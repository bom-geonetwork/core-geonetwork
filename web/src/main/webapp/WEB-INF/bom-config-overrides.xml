<overrides>
	<file name=".*WEB-INF/config\.xml">
		<!-- add database config -->
		<replaceXML xpath="resources">
			<resource enabled="true">
      	<name>main-db</name>
      	<provider>jeeves.resources.dbms.JNDIPool</provider>
      	<config>
        	<context>java:/comp/env</context>
        	<resourceName>jdbc/geonetwork</resourceName>
        	<url>jdbc:postgresql_postGIS://localhost:5432/bom-geonetworkdb</url>
        	<!--  if the database has a spatialindex table with fid, id and
            	multipolygon geometry fields (eg. see postgis) then specify true
            	here and GeoNetwork will use the database for its spatial index
            	otherwise specify false or leave the parameter out and a
            	shapefile will be used for the spatial index -->
        	<provideDataStore>true</provideDataStore>
        	<!-- set this value to -1 if you don't want prepared statements to
        	be cached when querying/maintaining the spatial index
        	(note this is only applicable when
        	provideDataStore is set to true) -->
        	<maxOpenPreparedStatements>300</maxOpenPreparedStatements>
        	<!-- NOTE any other parameter specified here is ignored as this
        	should be handled in the container -->
      	</config>
    	</resource>
		</replaceXML>
	</file>
	<!-- provide BOM welcome and about text overrides -->
	<file name=".*geonetwork/loc/eng/xml/strings\.xml">
		<replaceXML xpath="welcome.text">
			<b>BOM - Australian Government Bureau of Meteorology</b>
		</replaceXML>
		<replaceXML xpath="about.text">
			<b>BOM - Australian Government Bureau of Meteorology</b>
		</replaceXML>
	</file>
	<!-- Add ??? as geoserver layers for maps in
	     classic interface only -->
	<file name=".*WEB-INF/config-gui\.xml">
		<!-- set server to use geoserver -->
		<replaceAtt xpath="mapViewer/layers/layer" attName="server" value="http://localhost:8080/geoserver/wms" />
		<!-- switch off OSM in html5ui etc - we're using our own OSM server 
		     and it uses EPSG:4326 thank god... -->
		<replaceXML xpath="map/osm_map"/>
	</file>
</overrides>
